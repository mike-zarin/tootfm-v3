════════════════════════════════════════════════════════════════
                    TOOTFM PROJECT AUDIT REPORT                 
════════════════════════════════════════════════════════════════
Date: Thu Aug 28 23:38:12 EEST 2025
Directory: /Users/mz/tootfm-v3
════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────┐
│                    1. PROJECT STRUCTURE                      │
└─────────────────────────────────────────────────────────────┘
📁 Directory Tree (3 levels, excluding node_modules):
────────────────────────────────────────────────────────────────
.
 .husky
  _
 .turbo
  daemon
  cookies
 scripts
 packages
  ui
   src
    components
  database
   dist
   prisma
    migrations
     20250828114505_init
   scripts
   src
  auth
   dist
   src
  music-api
   src
 .github
  workflows
 apps
  web
   types
   app
    party
     join
     [id]
     create
    auth
     signin
     error
    api
     music
      profiles
      sync
       [service]
      disconnect
       [service]
     pusher
     auth
      spotify
       callback
      [...nextauth]
     health
     parties

📊 File Count by Type:
────────────────────────────────────────────────────────────────
TypeScript files:       55
JavaScript files:       49
JSON files:       30
Total files:      144

💾 Directory Sizes:
────────────────────────────────────────────────────────────────
 52M	apps/web
 96K	packages/auth
108K	packages/database
 68K	packages/music-api
 36K	packages/ui

┌─────────────────────────────────────────────────────────────┐
│                    2. CONFIGURATION FILES                    │
└─────────────────────────────────────────────────────────────┘
⚙️ Config Files Found:
────────────────────────────────────────────────────────────────
-rw-r--r--@ 1 mz  staff     889 Aug 28 18:56 .env.example
-rw-r--r--@ 1 mz  staff     727 Aug 28 20:03 .env.local
-rw-r--r--@ 1 mz  staff      55 Aug 28 19:44 data.json
-rw-r--r--@ 1 mz  staff  318744 Aug 28 14:55 package-lock.json
-rw-r--r--@ 1 mz  staff     911 Aug 28 14:55 package.json
-rw-r--r--@ 1 mz  staff     492 Aug 28 13:12 tsconfig.json
-rw-r--r--@ 1 mz  staff     686 Aug 28 13:08 turbo.json

┌─────────────────────────────────────────────────────────────┐
│                    3. DEPENDENCIES                           │
└─────────────────────────────────────────────────────────────┘
📦 Root package.json dependencies:
────────────────────────────────────────────────────────────────
  "dependencies": {
    "@next-auth/prisma-adapter": "^1.0.7"
  }
}

📦 Web App dependencies (apps/web/package.json):
────────────────────────────────────────────────────────────────
  "dependencies": {
    "@tootfm/database": "*",
    "@tootfm/auth": "*",
    "@tootfm/music-api": "*",
    "@tootfm/ui": "*",
    "@hookform/resolvers": "^3.3.4",
    "@radix-ui/react-dialog": "^1.0.5",
    "@radix-ui/react-dropdown-menu": "^2.0.6",
    "@radix-ui/react-label": "^2.0.2",
    "@radix-ui/react-select": "^2.0.0",
    "@radix-ui/react-slot": "^1.0.2",
    "@radix-ui/react-toast": "^1.1.5",
    "@radix-ui/react-slider": "^1.1.2",
    "@radix-ui/react-switch": "^1.0.3",
    "@tanstack/react-query": "^5.18.0",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.1.0",
    "date-fns": "^3.3.1",
    "lucide-react": "^0.314.0",
    "next": "14.2.5",
    "next-auth": "^4.24.5",
    "pusher-js": "^8.4.0-rc2",
    "pusher": "^5.2.0",
    "qrcode.react": "^3.1.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-hook-form": "^7.49.0",
    "tailwind-merge": "^2.2.0",
    "tailwindcss-animate": "^1.0.7",
    "zod": "^3.22.4",
    "zustand": "^4.5.0"

┌─────────────────────────────────────────────────────────────┐
│                    4. DATA STORAGE                           │
└─────────────────────────────────────────────────────────────┘
🗄️ Storage Implementation:
────────────────────────────────────────────────────────────────
File: apps/web/lib/storage.ts
15:class Storage {
231:export const storage = new Storage();
233:// Export helper functions for backward compatibility
234:export async function getUserParties(emailOrId: string) {
238:export async function getPartyMemberCount(partyId: string) {
242:export async function getPartyTrackCount(partyId: string) {

📄 Data Files:
────────────────────────────────────────────────────────────────
./data.json
./apps/web/data.json
data.json content preview:
{"users":[],"parties":[],"tracks":[],"memberships":[]}

🔍 Prisma Usage Check:
────────────────────────────────────────────────────────────────
Files importing Prisma:        0
Files importing storage:        7

┌─────────────────────────────────────────────────────────────┐
│                    5. API ROUTES                             │
└─────────────────────────────────────────────────────────────┘
🛣️ API Routes Structure:
────────────────────────────────────────────────────────────────
apps/web/app/api/auth/[...nextauth]/route.ts
apps/web/app/api/auth/spotify/callback/route.ts
apps/web/app/api/health/route.ts
apps/web/app/api/music/profiles/route.ts
apps/web/app/api/music/sync/route.ts
apps/web/app/api/parties/[id]/route.ts
apps/web/app/api/parties/join/route.ts
apps/web/app/api/parties/route.ts

┌─────────────────────────────────────────────────────────────┐
│                    6. PAGES & COMPONENTS                     │
└─────────────────────────────────────────────────────────────┘
📄 Pages (page.tsx files):
────────────────────────────────────────────────────────────────
apps/web/app/auth/error/page.tsx
apps/web/app/auth/signin/page.tsx
apps/web/app/page.tsx
apps/web/app/party/[id]/page.tsx
apps/web/app/party/create/page.tsx
apps/web/app/party/join/page.tsx

🧩 Components:
────────────────────────────────────────────────────────────────
apps/web/components/music/ConnectSpotify.tsx
apps/web/components/party/CreatePartyForm.tsx
apps/web/components/party/JoinPartyForm.tsx
apps/web/components/party/PartyCard.tsx

┌─────────────────────────────────────────────────────────────┐
│                    7. ENVIRONMENT VARIABLES                  │
└─────────────────────────────────────────────────────────────┘
�� Environment Variables (.env.example):
────────────────────────────────────────────────────────────────
DATABASE_URL=...
NEXTAUTH_URL=...
NEXTAUTH_SECRET=...
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
SPOTIFY_CLIENT_ID=...
SPOTIFY_CLIENT_SECRET=...
SPOTIFY_REDIRECT_URI=...
APPLE_TEAM_ID=...
APPLE_KEY_ID=...
APPLE_PRIVATE_KEY=...
LASTFM_API_KEY=...
LASTFM_API_SECRET=...
PUSHER_APP_ID=...
PUSHER_KEY=...
PUSHER_SECRET=...
PUSHER_CLUSTER=...
NEXT_PUBLIC_PUSHER_KEY=...
NEXT_PUBLIC_PUSHER_CLUSTER=...
ENABLE_SPOTIFY=...
ENABLE_APPLE_MUSIC=...
ENABLE_LASTFM=...
NODE_ENV=...

🔑 Configured Variables (.env.local):
────────────────────────────────────────────────────────────────
DATABASE_URL=***HIDDEN***
NEXTAUTH_URL=***HIDDEN***
NEXTAUTH_SECRET=***HIDDEN***
GOOGLE_CLIENT_ID=***HIDDEN***
GOOGLE_CLIENT_SECRET=***HIDDEN***
SPOTIFY_CLIENT_ID=***HIDDEN***
SPOTIFY_CLIENT_SECRET=***HIDDEN***
SPOTIFY_REDIRECT_URI=***HIDDEN***
PUSHER_APP_ID=***HIDDEN***
PUSHER_KEY=***HIDDEN***
PUSHER_SECRET=***HIDDEN***
PUSHER_CLUSTER=***HIDDEN***
ENABLE_SPOTIFY=***HIDDEN***
ENABLE_APPLE_MUSIC=***HIDDEN***
ENABLE_LASTFM=***HIDDEN***
NODE_ENV=***HIDDEN***

┌─────────────────────────────────────────────────────────────┐
│                    8. MUSIC & REALTIME                       │
└─────────────────────────────────────────────────────────────┘
🎵 Music Integration Files:
────────────────────────────────────────────────────────────────
./step5-music-api.sh
./packages/music-api/src/spotify.service.ts

🔄 Realtime (Pusher/WebSocket) Usage:
────────────────────────────────────────────────────────────────
Pusher mentions:        0
WebSocket mentions:        4

┌─────────────────────────────────────────────────────────────┐
│                    9. CODE QUALITY                           │
└─────────────────────────────────────────────────────────────┘
⚠️ TODO/FIXME Comments:
────────────────────────────────────────────────────────────────

📊 Code Statistics:
────────────────────────────────────────────────────────────────
Total lines of TypeScript code: 3026

📏 Largest Files:
────────────────────────────────────────────────────────────────
    3026 total
     343 apps/web/.next/types/app/api/music/sync/route.ts
     343 apps/web/.next/types/app/api/auth/[...nextauth]/route.ts
     243 apps/web/lib/storage.ts
     208 apps/web/app/party/[id]/page.tsx
     189 apps/web/app/api/music/sync/route.ts
     179 apps/web/app/page.tsx
     162 apps/web/app/api/auth/[...nextauth]/route.ts
     122 apps/web/app/api/parties/route.ts
     101 apps/web/types/index.ts

┌─────────────────────────────────────────────────────────────┐
│                    10. BUILD & RUN STATUS                    │
└─────────────────────────────────────────────────────────────┘
🏃 Running Processes:
────────────────────────────────────────────────────────────────
mz               78911   0.0  0.1 1621803952   7472   ??  S     6:45PM   0:00.98 /Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin) /Applications/Cursor.app/Contents/Resources/app/extensions/node_modules/typescript/lib/typingsInstaller.js --globalTypingsCacheLocation /Users/mz/Library/Caches/typescript/5.8 --enableTelemetry --typesMapLocation /Applications/Cursor.app/Contents/Resources/app/extensions/node_modules/typescript/lib/typesMap.json --validateDefaultNpmLocation
mz               71531   0.0  0.1 1621816432   9104   ??  S     2:57PM   0:03.65 /Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin) /Applications/Cursor.app/Contents/Resources/app/extensions/json-language-features/server/dist/node/jsonServerMain --node-ipc --clientProcessId=71460
mz               68616   0.0  0.1 410818096   7952   ??  Ss    2:45PM   0:19.65 /Users/mz/tootfm-v3/node_modules/turbo-darwin-arm64/bin/turbo --skip-infer daemon

🔧 NPM Scripts Available:
────────────────────────────────────────────────────────────────
  "scripts": {
    "dev": "turbo dev",
    "build": "turbo build",
    "test": "turbo test",
    "lint": "turbo lint",
    "type-check": "turbo type-check",
    "db:push": "turbo db:push",
    "db:migrate": "turbo db:migrate",
    "db:studio": "turbo db:studio",
    "clean": "turbo clean && rm -rf node_modules",
    "format": "prettier --write \"**/*.{ts,tsx,md,json}\"",
    "prepare": "husky install"
  },
  "devDependencies": {
    "@types/node": "^20.11.0",
    "eslint": "^8.56.0",
    "husky": "^9.0.0",
    "lint-staged": "^15.2.0",
    "prettier": "^3.2.0",
    "turbo": "^1.12.0",
    "typescript": "^5.3.0"

┌─────────────────────────────────────────────────────────────┐
│                    11. QUICK DIAGNOSTICS                     │
└─────────────────────────────────────────────────────────────┘
✅ Checklist:
────────────────────────────────────────────────────────────────
✓ package.json exists
✓ node_modules exists
✓ apps/web configured
✓ .env.local exists
✓ data.json exists
✓ Next.js build exists

════════════════════════════════════════════════════════════════
                    END OF AUDIT REPORT                         
════════════════════════════════════════════════════════════════
Report saved to: tootfm-audit-20250828-233812.txt
Generated at: Thu Aug 28 23:38:14 EEST 2025
